{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@huseyinfiliz/traderfeedback/webpack/bootstrap","webpack://@huseyinfiliz/traderfeedback/webpack/runtime/compat get default export","webpack://@huseyinfiliz/traderfeedback/webpack/runtime/define property getters","webpack://@huseyinfiliz/traderfeedback/webpack/runtime/hasOwnProperty shorthand","webpack://@huseyinfiliz/traderfeedback/external root \"flarum.core.compat['admin/app']\"","webpack://@huseyinfiliz/traderfeedback/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@huseyinfiliz/traderfeedback/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@huseyinfiliz/traderfeedback/external root \"flarum.core.compat['common/components/Button']\"","webpack://@huseyinfiliz/traderfeedback/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@huseyinfiliz/traderfeedback/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@huseyinfiliz/traderfeedback/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@huseyinfiliz/traderfeedback/./src/admin/components/TraderFeedbackSettingsPage.js","webpack://@huseyinfiliz/traderfeedback/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@huseyinfiliz/traderfeedback/./src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/humanTime'];","import ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Switch from 'flarum/common/components/Switch';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport app from 'flarum/admin/app';\n\nexport default class TraderFeedbackSettingsPage extends ExtensionPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    this.activeTab = 'settings';\n    this.loading = false;\n    this.reports = [];\n    this.pendingFeedbacks = [];\n  }\n  \n  content() {\n    return m('div', {className: 'TraderFeedbackSettingsPage'}, [\n      m('div', {className: 'ExtensionPage-header'}, \n        m('div', {className: 'container'},\n          m('h2', 'Trader Feedback')\n        )\n      ),\n      \n      m('div', {className: 'ExtensionPage-tabs'},\n        m('div', {className: 'container'},\n          m('nav', {className: 'ExtensionPage-tabsNav'}, [\n            m('button', {\n              className: 'Button' + (this.activeTab === 'settings' ? ' Button--primary' : ''),\n              onclick: () => {\n                this.activeTab = 'settings';\n                m.redraw();\n              }\n            }, [\n              m('i', {className: 'fas fa-cog'}),\n              ' Settings'\n            ]),\n            \n            m('button', {\n              className: 'Button' + (this.activeTab === 'reports' ? ' Button--primary' : ''),\n              onclick: () => {\n                this.activeTab = 'reports';\n                if (this.reports.length === 0) this.loadReports();\n                m.redraw();\n              }\n            }, [\n              m('i', {className: 'fas fa-flag'}),\n              ' Reports ',\n              this.reports.length > 0 ? m('span', {className: 'Badge'}, this.reports.length) : null\n            ]),\n            \n            m('button', {\n              className: 'Button' + (this.activeTab === 'approvals' ? ' Button--primary' : ''),\n              onclick: () => {\n                this.activeTab = 'approvals';\n                if (this.pendingFeedbacks.length === 0) this.loadPendingFeedbacks();\n                m.redraw();\n              }\n            }, [\n              m('i', {className: 'fas fa-check-circle'}),\n              ' Pending Approvals ',\n              this.pendingFeedbacks.length > 0 ? m('span', {className: 'Badge'}, this.pendingFeedbacks.length) : null\n            ])\n          ])\n        )\n      ),\n      \n      m('div', {className: 'ExtensionPage-content'},\n        m('div', {className: 'container'},\n          this.currentTabContent()\n        )\n      )\n    ]);\n  }\n  \n  currentTabContent() {\n    switch(this.activeTab) {\n      case 'settings':\n        return this.settingsContent();\n      case 'reports':\n        return this.reportsContent();\n      case 'approvals':\n        return this.approvalsContent();\n      default:\n        return null;\n    }\n  }\n  \n  settingsContent() {\n    return m('div', {className: 'TraderFeedbackSettings'}, [\n      m('.Form', [\n        m('h3', 'General Settings'),\n        \n        this.buildSettingComponent({\n          type: 'boolean',\n          setting: 'huseyinfiliz.traderfeedback.requireApproval',\n          label: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.require_approval_label')\n        }),\n        \n        this.buildSettingComponent({\n          type: 'boolean', \n          setting: 'huseyinfiliz.traderfeedback.allowNegative',\n          label: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.allow_negative_label')\n        }),\n        \n        m('h3', 'Discussion Settings'),\n        \n        this.buildSettingComponent({\n          type: 'boolean',\n          setting: 'huseyinfiliz.traderfeedback.requireDiscussion',\n          label: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.require_discussion_label'),\n          help: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.require_discussion_help')\n        }),\n        \n        this.buildSettingComponent({\n          type: 'boolean',\n          setting: 'huseyinfiliz.traderfeedback.onePerDiscussion',\n          label: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.one_per_discussion_label'),\n          help: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.one_per_discussion_help')\n        }),\n        \n        m('h3', 'Comment Settings'),\n        \n        this.buildSettingComponent({\n          type: 'number',\n          setting: 'huseyinfiliz.traderfeedback.minLength',\n          label: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.min_length_label'),\n          min: 1\n        }),\n        \n        this.buildSettingComponent({\n          type: 'number',\n          setting: 'huseyinfiliz.traderfeedback.maxLength',\n          label: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.max_length_label'),\n          min: 1\n        }),\n        \n        m('h3', 'User Requirements'),\n        \n        this.buildSettingComponent({\n          type: 'number',\n          setting: 'huseyinfiliz.traderfeedback.minDays',\n          label: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.min_days_label'),\n          help: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.min_days_help'),\n          min: 0\n        }),\n        \n        this.buildSettingComponent({\n          type: 'number',\n          setting: 'huseyinfiliz.traderfeedback.minPosts',\n          label: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.min_posts_label'),\n          help: app.translator.trans('huseyinfiliz-traderfeedback.admin.settings.min_posts_help'),\n          min: 0\n        }),\n        \n        this.submitButton()\n      ])\n    ]);\n  }\n  \n  reportsContent() {\n    if (this.loading) {\n      return m(LoadingIndicator);\n    }\n    \n    if (this.reports.length === 0) {\n      return m('div', {className: 'TraderFeedbackReports-empty'}, [\n        m('i', {className: 'fas fa-inbox fa-3x'}),\n        m('p', app.translator.trans('huseyinfiliz-traderfeedback.admin.reports.no_reports')),\n        m(Button, {\n          className: 'Button Button--primary',\n          onclick: () => this.loadReports()\n        }, [\n          m('i', {className: 'fas fa-sync'}),\n          ' Refresh'\n        ])\n      ]);\n    }\n    \n    return m('div', {className: 'TraderFeedbackReports'}, [\n      m('div', {className: 'TraderFeedbackReports-header'},\n        m(Button, {\n          className: 'Button Button--primary',\n          onclick: () => this.loadReports()\n        }, [\n          m('i', {className: 'fas fa-sync'}),\n          ' Refresh'\n        ])\n      ),\n      this.reports.map(report => this.reportItem(report))\n    ]);\n  }\n  \n  approvalsContent() {\n    if (this.loading) {\n      return m(LoadingIndicator);\n    }\n    \n    if (this.pendingFeedbacks.length === 0) {\n      return m('div', {className: 'TraderFeedbackApprovals-empty'}, [\n        m('i', {className: 'fas fa-check-circle fa-3x'}),\n        m('p', app.translator.trans('huseyinfiliz-traderfeedback.admin.approvals.no_approvals')),\n        m(Button, {\n          className: 'Button Button--primary',\n          onclick: () => this.loadPendingFeedbacks()\n        }, [\n          m('i', {className: 'fas fa-sync'}),\n          ' Refresh'\n        ])\n      ]);\n    }\n    \n    return m('div', {className: 'TraderFeedbackApprovals'}, [\n      m('div', {className: 'TraderFeedbackApprovals-header'},\n        m(Button, {\n          className: 'Button Button--primary',\n          onclick: () => this.loadPendingFeedbacks()\n        }, [\n          m('i', {className: 'fas fa-sync'}),\n          ' Refresh'\n        ])\n      ),\n      this.pendingFeedbacks.map(feedback => this.feedbackItem(feedback))\n    ]);\n  }\n  \n  reportItem(report) {\n    return m('div', {className: 'TraderFeedbackReportItem', key: report.id}, [\n      m('div', {className: 'TraderFeedbackReportItem-header'}, [\n        m('strong', 'Report #' + report.id),\n        m('span', humanTime(report.attributes?.created_at))\n      ]),\n      m('div', {className: 'TraderFeedbackReportItem-content'}, [\n        m('p', [\n          m('strong', 'Reason: '),\n          report.attributes?.reason\n        ])\n      ]),\n      m('div', {className: 'TraderFeedbackReportItem-actions'}, [\n        m(Button, {\n          className: 'Button Button--success Button--sm',\n          onclick: () => this.dismissReport(report)\n        }, 'Dismiss'),\n        m(Button, {\n          className: 'Button Button--danger Button--sm',\n          onclick: () => this.deleteReportedFeedback(report)\n        }, 'Delete Feedback')\n      ])\n    ]);\n  }\n  \n  feedbackItem(feedback) {\n    const attrs = feedback.attributes || {};\n    \n    return m('div', {\n      className: 'TraderFeedbackApprovalItem feedback-' + attrs.type,\n      key: feedback.id\n    }, [\n      m('div', {className: 'TraderFeedbackApprovalItem-header'}, [\n        m('span', {className: 'feedback-type feedback-type-' + attrs.type}, attrs.type),\n        m('span', humanTime(attrs.created_at))\n      ]),\n      m('div', {className: 'TraderFeedbackApprovalItem-content'}, [\n        m('p', attrs.comment)\n      ]),\n      m('div', {className: 'TraderFeedbackApprovalItem-actions'}, [\n        m(Button, {\n          className: 'Button Button--success Button--sm',\n          onclick: () => this.approveFeedback(feedback)\n        }, 'Approve'),\n        m(Button, {\n          className: 'Button Button--danger Button--sm',\n          onclick: () => this.rejectFeedback(feedback)\n        }, 'Reject')\n      ])\n    ]);\n  }\n  \n  loadReports() {\n    this.loading = true;\n    m.redraw();\n    \n    app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/trader/reports'\n    }).then(response => {\n      this.reports = response.data || [];\n      this.loading = false;\n      m.redraw();\n    }).catch(error => {\n      this.loading = false;\n      app.alerts.show({ type: 'error' }, 'Failed to load reports');\n      m.redraw();\n    });\n  }\n  \n  loadPendingFeedbacks() {\n    this.loading = true;\n    m.redraw();\n    \n    app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/trader/feedback/pending'\n    }).then(response => {\n      this.pendingFeedbacks = response.data || [];\n      this.loading = false;\n      m.redraw();\n    }).catch(error => {\n      this.loading = false;\n      app.alerts.show({ type: 'error' }, 'Failed to load pending feedbacks');\n      m.redraw();\n    });\n  }\n  \n  dismissReport(report) {\n    if (!confirm('Dismiss this report?')) return;\n    \n    app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/trader/reports/' + report.id + '/dismiss'\n    }).then(() => {\n      app.alerts.show({ type: 'success' }, 'Report dismissed');\n      this.loadReports();\n    });\n  }\n  \n  deleteReportedFeedback(report) {\n    if (!confirm('Delete the reported feedback?')) return;\n    \n    app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/trader/reports/' + report.id + '/reject'\n    }).then(() => {\n      app.alerts.show({ type: 'success' }, 'Feedback deleted');\n      this.loadReports();\n    });\n  }\n  \n  approveFeedback(feedback) {\n    if (!confirm('Approve this feedback?')) return;\n    \n    app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/trader/feedback/' + feedback.id + '/approve'\n    }).then(() => {\n      app.alerts.show({ type: 'success' }, 'Feedback approved');\n      this.loadPendingFeedbacks();\n    });\n  }\n  \n  rejectFeedback(feedback) {\n    if (!confirm('Reject this feedback?')) return;\n    \n    app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/trader/feedback/' + feedback.id + '/reject'\n    }).then(() => {\n      app.alerts.show({ type: 'success' }, 'Feedback rejected');\n      this.loadPendingFeedbacks();\n    });\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","import app from 'flarum/admin/app';\nimport TraderFeedbackSettingsPage from './components/TraderFeedbackSettingsPage';\n\napp.initializers.add('huseyinfiliz-traderfeedback', () => {\n  // Register the main settings page with tabs\n  app.extensionData\n    .for('huseyinfiliz-traderfeedback')\n    .registerPage(TraderFeedbackSettingsPage)\n    .registerPermission({\n      icon: 'fas fa-comment',\n      label: app.translator.trans('huseyinfiliz-traderfeedback.admin.permissions.give_feedback'),\n      permission: 'huseyinfiliz-traderfeedback.give'\n    }, 'reply', true) // true = varsayılan olarak Members grubuna verilir\n    .registerPermission({\n      icon: 'fas fa-flag',\n      label: app.translator.trans('huseyinfiliz-traderfeedback.admin.permissions.report_feedback'),\n      permission: 'huseyinfiliz-traderfeedback.report'\n    }, 'reply', true) // true = varsayılan olarak Members grubuna verilir\n    .registerPermission({\n      icon: 'fas fa-trash',\n      label: app.translator.trans('huseyinfiliz-traderfeedback.admin.permissions.delete_feedback'),\n      permission: 'huseyinfiliz-traderfeedback.delete'\n    }, 'moderate')\n    .registerPermission({\n      icon: 'fas fa-shield-alt',\n      label: app.translator.trans('huseyinfiliz-traderfeedback.admin.permissions.moderate_feedback'),\n      permission: 'huseyinfiliz-traderfeedback.moderate'\n    }, 'moderate');\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","TraderFeedbackSettingsPage","_ExtensionPage","apply","arguments","create","constructor","_proto","oninit","vnode","this","activeTab","loading","reports","pendingFeedbacks","content","_this","m","className","onclick","redraw","length","loadReports","loadPendingFeedbacks","currentTabContent","settingsContent","reportsContent","approvalsContent","buildSettingComponent","type","setting","label","app","trans","help","min","submitButton","_this2","LoadingIndicator","Button","map","report","reportItem","_this3","feedback","feedbackItem","_report$attributes","_report$attributes2","_this4","id","humanTime","attributes","created_at","reason","dismissReport","deleteReportedFeedback","_this5","attrs","comment","approveFeedback","rejectFeedback","_this6","method","url","attribute","then","response","data","error","show","_this7","_this8","confirm","_this9","_this10","_this11","ExtensionPage","add","registerPage","registerPermission","icon","permission"],"sourceRoot":""}